/* src/index.css */

/* -------------------------------
   Tailwind
   ------------------------------- */
/* Import Tailwind's base styles, components, and utilities */
@tailwind base;
@tailwind components;
@tailwind utilities;

/* -------------------------------
   Layout defaults & resets
   ------------------------------- */
/* Prevent horizontal overflow (common cause of double scrollbars) */
html {
  overflow-x: hidden;
  overflow-y: auto;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#root {
  height: 100%;
  overflow-y: auto;
}

/* -------------------------------
   Theme variables (single source)
   ------------------------------- */
:root {
  /* Header height used to offset page content from a fixed/translucent site header.
     Change this value in your global header if the header is taller. */
  --site-header-height: 72px;

  /* Brand / Accent colors (RGB triplets or full numbers as needed) */
  --color-background-dark: 5 5 16; /* fallback deep background */
  --color-surface-1: 15 23 42;
  --color-surface-2: 30 41 59;
  --color-surface-3: 51 65 85;

  --color-text-primary: 255 255 255;
  --color-text-secondary: 203 213 225;
  --color-text-muted: 100 116 139;
  --color-text-link: 56 189 248;

  --color-primary-cyan: 14 165 233; /* #0ea5e9 */
  --color-primary-blue: 59 130 246; /* #3b82fd */
  --color-accent-pink: 236 72 153; /* #ec4899 */
  --color-accent-orange: 233 100 36; /* #E96424 */
}

/* -------------------------------
   Page / body
   ------------------------------- */
body {
  font-family: 'Inter', system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial;
  background-color: rgb(var(--color-background-dark));
  color: rgb(var(--color-text-primary));
  margin: 0;
  -webkit-tap-highlight-color: transparent;
  /* Keep body scroll managed by #root; allow content inside to scroll */
  overflow: auto;
}

/* -------------------------------
   Scrollbar - modern, subtle
   ------------------------------- */
::-webkit-scrollbar {
  width: 10px;
  height: 10px;
}
::-webkit-scrollbar-track {
  background: rgb(var(--color-surface-1));
}
::-webkit-scrollbar-thumb {
  background: rgb(var(--color-surface-3));
  border-radius: 10px;
  border: 2px solid rgb(var(--color-surface-1));
}
::-webkit-scrollbar-thumb:hover {
  background: rgba(var(--color-text-link), 0.85);
}

/* Firefox scrollbar (thin) */
* {
  scrollbar-width: thin;
  scrollbar-color: rgb(var(--color-surface-3)) rgb(var(--color-surface-1));
}

/* -------------------------------
   Utility & small accessibility helpers
   ------------------------------- */
/* Gentle focus outlines for keyboard users */
:focus {
  outline: 2px solid rgba(14, 165, 233, 0.18);
  outline-offset: 2px;
}

/* Line clamp helpers (fallback if Tailwind plugin not available) */
.line-clamp-2 {
  display: -webkit-box;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
  overflow: hidden;
}
.line-clamp-3 {
  display: -webkit-box;
  -webkit-line-clamp: 3;
  -webkit-box-orient: vertical;
  overflow: hidden;
}

/* Small animation helper */
@keyframes fadeIn {
  from {
    opacity: 0;
    transform: translateY(10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}
.animate-fadeIn {
  animation: fadeIn 0.18s cubic-bezier(0.33, 1, 0.68, 1) both;
}

/* -------------------------------
   Site-header & stacking context
   ------------------------------- */
/* Ensure your global header sits on top â€” adjust if your header class differs */
.site-header {
  position: relative;
  z-index: 60;
}

/* Container: apply top padding so page content starts below the site header.
   Inline style in TSX sets it too, but this is a CSS fallback. */
.container {
  padding-top: calc(var(--site-header-height, 72px) + 16px);
}

/* If your header is fixed/translucent, add a small translucent divider to separate content */
.site-header::after {
  content: '';
  position: absolute;
  left: 0;
  right: 0;
  bottom: -1px;
  height: 1px;
  background: linear-gradient(90deg, rgba(255, 255, 255, 0.02), rgba(255, 255, 255, 0));
  pointer-events: none;
  z-index: 59;
}

/* -------------------------------
   Hero separation & avatar overlap
   ------------------------------- */
/* Ensure hero's rounded corners hide overflow images cleanly */
.container > header .rounded-3xl {
  overflow: hidden;
  border-top-left-radius: 18px;
  border-top-right-radius: 18px;
}

/* Subtle top border + shadow so hero never visually "merges" with header */
.container > header .rounded-3xl {
  border-top: 1px solid rgba(255, 255, 255, 0.02);
  box-shadow: 0 6px 24px rgba(2, 6, 23, 0.6);
}

/* Keep hero images crisp */
.container > header img {
  display: block;
  width: 100%;
  height: 100%;
  object-fit: cover;
}

/* Avatar shadow & crisp overlap */
.container > header .shadow-2xl {
  box-shadow: 0 10px 30px rgba(2, 6, 23, 0.7);
}

/* Make sure avatar overlap doesn't hide under header on small screens */
@media (max-width: 768px) {
  :root {
    --site-header-height: 64px;
  }
  .container {
    padding-top: calc(var(--site-header-height, 64px) + 12px);
  }
  .container > header .w-36 {
    width: 88px;
    height: 88px;
  }
}

/* -------------------------------
   Card / surface styles
   ------------------------------- */
.card-surface {
  background: rgb(var(--color-surface-1));
  border: 1px solid rgb(var(--color-surface-3));
  border-radius: 14px;
  box-shadow: 0 6px 20px rgba(2, 6, 23, 0.45);
}

/* Dashed / empty states */
.card-empty {
  border-style: dashed;
  background: rgba(30, 41, 59, 0.35);
}

/* Icon badge */
.icon-badge {
  width: 40px;
  height: 40px;
  display: grid;
  place-items: center;
  border-radius: 10px;
  background: rgb(var(--color-surface-2));
  border: 1px solid rgb(var(--color-surface-3));
  color: rgb(var(--color-text-muted));
}

/* -------------------------------
   Dropdown / wide header fixes (responsive)
   ------------------------------- */
@media (max-width: 1024px) {
  .creators-dropdown {
    width: 98vw !important;
    min-width: unset !important;
    padding: 1rem !important;
  }
}

/* -------------------------------
   Hide scrollbar utility (if you want hidden scrollbars on some elements)
   ------------------------------- */
.hide-scrollbar {
  -ms-overflow-style: none; /* IE + Edge */
  scrollbar-width: none; /* Firefox */
}
.hide-scrollbar::-webkit-scrollbar {
  display: none;
} /* Chrome, Safari, Opera */

/* -------------------------------
   Admin / Sidebar hard reset (if used)
   ------------------------------- */
.admin-sidebar *::before,
.admin-sidebar *::after {
  content: none !important;
  background: transparent !important;
  box-shadow: none !important;
  mix-blend-mode: normal !important;
}
.admin-sidebar {
  z-index: 50;
}
.admin-sidebar * {
  position: relative;
  z-index: 1;
}

/* -------------------------------
   Misc small helpers
   ------------------------------- */
.perspective-1000 {
  perspective: 1000px;
}
.transform-style-3d {
  transform-style: preserve-3d;
}
.group-hover\:rotate-y-10:hover {
  transform: rotateY(10deg) scale(1.05);
}

/* -------------------------------
   Additional hero/glass style (optional helper)
   ------------------------------- */
.hero-glass {
  background: linear-gradient(180deg, rgba(0, 0, 0, 0.55), rgba(0, 0, 0, 0.18));
  backdrop-filter: blur(6px);
}

/* -------------------------------
   Final note:
   - If your global header uses a different selector than `.site-header`, replace it.
   - If header height differs, update --site-header-height in :root or your header CSS.
   - This file is safe to drop-in; keep Tailwind configured as before.
   ------------------------------- */

/* Fixes for hero/banner/avatar sizing to prevent visual explosion */

/* Constrain the page container used by PublicCreatorPage (matches max-w-7xl in TSX) */
.max-w-7xl {
  max-width: 1120px; /* match Tailwind's 7xl-ish width for a tighter layout */
}

/* Creator avatar: explicit controlled sizes across breakpoints and a max-width guard */
.creator-avatar {
  width: 6.5rem; /* 104px default */
  height: 6.5rem;
  max-width: 100%;
  object-fit: cover;
  display: block;
}

/* medium / larger screens: slightly larger avatar */
@media (min-width: 768px) {
  .creator-avatar {
    width: 8.5rem; /* 136px */
    height: 8.5rem;
  }
}
@media (min-width: 1024px) {
  .creator-avatar {
    width: 10rem; /* 160px */
    height: 10rem;
  }
}

/* Ensure banner images don't overflow the constrained container */
.container img,
.max-w-7xl img {
  max-width: 100%;
  height: auto;
}

/* If some global CSS accidentally sets img to width:auto or 100vw, enforce safe behavior here */
.creator-hero,
.max-w-7xl {
  box-sizing: border-box;
}

/* Prevent negative margins from allowing avatar/banner to overflow past left edge when screen smaller */
@media (max-width: 768px) {
  .max-w-7xl {
    padding-left: 1rem;
    padding-right: 1rem;
  }
}

/* Small improvement: keep the hero visually separate from header for fixed header setups */
:root {
  --site-header-height: 72px;
}
.max-w-7xl {
  padding-top: calc(var(--site-header-height, 72px) + 12px);
}
